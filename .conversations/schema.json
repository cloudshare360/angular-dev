{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Conversation Session",
  "type": "object",
  "required": ["sessionId","createdAt","messages"],
  "properties": {
    "sessionId": {"type":"string"},
    "createdAt": {"type":"string","format":"date-time"},
    "updatedAt": {"type":"string","format":"date-time"},
    "user": {"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"}},"additionalProperties":true},
    "messages": {
      "type":"array",
      "items": {
        "type":"object",
        "required":["role","content","timestamp"],
        "properties":{
          "role":{"type":"string","enum":["user","agent","system"]},
          "content":{"type":"string"},
          "timestamp":{"type":"string","format":"date-time"},
          "meta":{"type":"object","additionalProperties":true}
        }
      }
    },
    "metadata": {"type":"object","additionalProperties":true}
  }
}